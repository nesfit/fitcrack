import{f as l}from"./numberFormat.773889d3.js";import{t as c}from"./fc_tile.efbab4f2.js";import{F as d}from"./fileUploader.0b4b9553.js";import{n as m}from"./index.d0c1a198.js";import"./vendor.6aa46313.js";var u=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("v-container",{staticClass:"max500"},[t("fc-tile",{staticClass:"ma-2",attrs:{title:"Charsets",icon:e.$route.meta.icon}},[t("v-alert",{staticClass:"mb-0",attrs:{tile:"",text:"",type:"warning"}},[e._v(" Charsets must have a .txt, .hcchr or .charset extension. ")]),t("v-data-table",{attrs:{headers:e.headers,items:e.charsets.items,loading:e.loading,"footer-props":{itemsPerPageOptions:[10,25,50],itemsPerPageText:"Charsets per page"}},scopedSlots:e._u([{key:"item.name",fn:function(r){var a=r.item;return[t("router-link",{attrs:{to:"charsets/"+a.id}},[e._v(" "+e._s(a.name)+" ")])]}},{key:"item.keyspace",fn:function(r){var a=r.item;return[e._v(" "+e._s(e.fmt(a.keyspace))+" ")]}},{key:"item.time",fn:function(r){var a=r.item;return[e._v(" "+e._s(e.$moment.utc(a.time).local().format("DD.MM.YYYY HH:mm"))+" ")]}},{key:"item.actions",fn:function(r){var a=r.item;return[t("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(n){var o=n.on;return[t("a",e._g({attrs:{href:e.$serverAddr+"/charset/"+a.id+"/download",target:"_blank",download:""}},o),[t("v-btn",{attrs:{icon:""}},[t("v-icon",[e._v("mdi-file-download-outline")])],1)],1)]}}],null,!0)},[t("span",[e._v("Download")])]),t("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(n){var o=n.on;return[t("v-btn",e._g({attrs:{icon:""},on:{click:function(p){return e.deleteCharset(a)}}},o),[t("v-icon",{attrs:{color:"error"}},[e._v(" mdi-delete-outline ")])],1)]}}],null,!0)},[t("span",[e._v("Delete")])])]}}])}),t("v-divider"),t("file-uploader",{attrs:{url:this.$serverAddr+"/charset/add"},on:{uploadComplete:e.loadCharsets}})],1)],1)},v=[];const _={name:"CharsetView",components:{FileUploader:d,"fc-tile":c},data:function(){return{loading:!1,charsets:[],headers:[{text:"Name",align:"start",value:"name"},{text:"Keyspace",value:"keyspace",align:"end"},{text:"Added",value:"time",align:"end"},{text:"Actions",value:"actions",align:"end",sortable:!1}]}},mounted:function(){this.loadCharsets()},methods:{fmt:l,loadCharsets:function(){this.loading=!0,this.axios.get(this.$serverAddr+"/charset",{}).then(e=>{this.charsets=e.data,this.loading=!1})},deleteCharset:function(e){this.$root.$confirm("Delete",`This will remove ${e.name} from your charsets. Are you sure?`).then(s=>{this.loading=!0,this.axios.delete(this.$serverAddr+"/charset/"+e.id).then(t=>{this.loadCharsets()})})}}},i={};var h=m(_,u,v,!1,f,"2a27eaf7",null,null);function f(e){for(let s in i)this[s]=i[s]}var b=function(){return h.exports}();export{b as default};
