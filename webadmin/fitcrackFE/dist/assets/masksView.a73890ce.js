import{t as l}from"./fc_tile.2683c3e6.js";import{F as d}from"./fileUploader.9d8717f8.js";import{n as m}from"./index.cc9d07c9.js";import"./vendor.6aa46313.js";var c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{staticClass:"max500"},[e("fc-tile",{staticClass:"ma-2",attrs:{title:"Mask sets",icon:t.$route.meta.icon}},[e("v-alert",{staticClass:"mb-0",attrs:{tile:"",text:"",type:"warning"}},[t._v(" Mask files must have a .txt or .hcmask extension. ")]),e("v-data-table",{attrs:{headers:t.headers,items:t.masks.items,loading:t.loading,"footer-props":{itemsPerPageOptions:[10,25,50],itemsPerPageText:"Masks per page"}},scopedSlots:t._u([{key:"item.name",fn:function(n){var s=n.item;return[e("router-link",{attrs:{to:"masks/"+s.id}},[t._v(" "+t._s(s.name)+" ")])]}},{key:"item.time",fn:function(n){var s=n.item;return[t._v(" "+t._s(t.$moment.utc(s.time).local().format("DD.MM.YYYY HH:mm"))+" ")]}},{key:"item.actions",fn:function(n){var s=n.item;return[e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(o){var r=o.on;return[e("a",t._g({attrs:{href:t.$serverAddr+"/masks/"+s.id+"/download",target:"_blank",download:""}},r),[e("v-btn",{attrs:{icon:""}},[e("v-icon",[t._v("mdi-file-download-outline")])],1)],1)]}}],null,!0)},[e("span",[t._v("Download")])]),e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(o){var r=o.on;return[e("v-btn",t._g({attrs:{icon:""},on:{click:function(p){return t.deleteMask(s)}}},r),[e("v-icon",{attrs:{color:"error"}},[t._v(" mdi-delete-outline ")])],1)]}}],null,!0)},[e("span",[t._v("Delete")])])]}}])}),e("v-divider"),e("file-uploader",{attrs:{url:this.$serverAddr+"/masks/add"},on:{uploadComplete:t.loadMasks}})],1)],1)},u=[];const v={name:"MasksView",components:{FileUploader:d,"fc-tile":l},data:function(){return{loading:!1,masks:[],headers:[{text:"Name",align:"start",value:"name"},{text:"Added",value:"time",align:"end"},{text:"Actions",value:"actions",align:"end",sortable:!1}]}},mounted:function(){this.loadMasks()},methods:{loadMasks:function(){this.loading=!0,this.axios.get(this.$serverAddr+"/masks",{}).then(t=>{this.masks=t.data,this.loading=!1})},deleteMask:function(t){this.$root.$confirm("Delete",`This will remove ${t.name} from your masks. Are you sure?`).then(a=>{this.loading=!0,this.axios.delete(this.$serverAddr+"/masks/"+t.id).then(e=>{this.loadMasks()})})}}},i={};var _=m(v,c,u,!1,f,"6caa3144",null,null);function f(t){for(let a in i)this[a]=i[a]}var y=function(){return _.exports}();export{y as default};
